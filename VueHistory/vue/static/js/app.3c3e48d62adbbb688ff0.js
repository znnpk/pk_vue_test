webpackJsonp([17],{"+ed2":function(t,e){},0:function(t,e,n){n("j1ja"),t.exports=n("NHnr")},"9NA7":function(t,e){},"9S6h":function(t,e){},"9fCr":function(t,e){},CYGL:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),a=n("mvHQ"),i=n.n(a),r=n("woOf"),c=n.n(r),s={name:"App",created:function(){var t=this;sessionStorage.getItem("store")&&this.$store.replaceState(c()({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",function(){sessionStorage.setItem("store",i()(t.$store.state))})},provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"app"}},[this.isRouterAlive?e("router-view"):this._e()],1)},staticRenderFns:[]},l=n("VU/8")(s,u,!1,null,null,null).exports,m=n("/ocq"),p={props:{comments:{type:Array,required:!0}},components:{},data:function(){return{inputComment:"",showItemId:""}},computed:{},methods:{likeClick:function(t){null===t.isLike?(Vue.$set(t,"isLike",!0),t.likeNum++):(t.isLike?t.likeNum--:t.likeNum++,t.isLike=!t.isLike)},cancel:function(){this.showItemId=""},commitComment:function(){console.log(this.inputComment)},showCommentInput:function(t,e){this.inputComment=e?"@"+e.fromName+" ":"",this.showItemId=t.id}},created:function(){this.comments=h.data,console.log(this.comments)}},h={status:"成功",code:200,data:[{id:"comment0001",date:"2018-07-05 08:30",ownerId:"talents100020",fromId:"errhefe232213",fromName:"犀利的评论家",fromAvatar:"http://ww4.sinaimg.cn/bmiddle/006DLFVFgy1ft0j2pddjuj30v90uvagf.jpg",likeNum:3,content:"非常靠谱的程序员",reply:[{id:"34523244545",commentId:"comment0001",fromId:"observer223432",fromName:"夕阳红",fromAvatar:"https://wx4.sinaimg.cn/mw690/69e273f8gy1ft1541dmb7j215o0qv7wh.jpg",toId:"errhefe232213",toName:"犀利的评论家",toAvatar:"http://ww4.sinaimg.cn/bmiddle/006DLFVFgy1ft0j2pddjuj30v90uvagf.jpg",content:"赞同，很靠谱，水平很高",date:"2018-07-05 08:35"},{id:"34523244545",commentId:"comment0001",fromId:"observer567422",fromName:"清晨一缕阳光",fromAvatar:"http://imgsrc.baidu.com/imgad/pic/item/c2fdfc039245d688fcba1b80aec27d1ed21b245d.jpg",toId:"observer223432",toName:"夕阳红",toAvatar:"https://wx4.sinaimg.cn/mw690/69e273f8gy1ft1541dmb7j215o0qv7wh.jpg",content:"大神一个！",date:"2018-07-05 08:50"}]},{id:"comment0002",date:"2018-07-05 08:30",ownerId:"talents100020",fromId:"errhefe232213",fromName:"毒蛇郭德纲",fromAvatar:"http://ww1.sinaimg.cn/bmiddle/006DLFVFgy1ft0j2q2p8pj30v90uzmzz.jpg",likeNum:0,content:"从没见过这么优秀的人",reply:[]}]},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},t._l(t.comments,function(e){return n("div",{staticClass:"comment"},[n("div",{staticClass:"info"},[n("img",{staticClass:"avatar",attrs:{src:e.fromAvatar,width:"36",height:"36"}}),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"name"},[t._v(t._s(e.fromName))]),t._v(" "),n("div",{staticClass:"date"},[t._v(t._s(e.date))])])]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(e.content))]),t._v(" "),n("div",{staticClass:"control"},[n("span",{staticClass:"like",class:{active:e.isLike},on:{click:function(n){return t.likeClick(e)}}},[n("i",{staticClass:"iconfont icon-like"}),t._v(" "),n("span",{staticClass:"like-num"},[t._v(t._s(e.likeNum>0?e.likeNum+"人赞":"赞"))])]),t._v(" "),n("span",{staticClass:"comment-reply",on:{click:function(n){return t.showCommentInput(e)}}},[n("i",{staticClass:"iconfont icon-comment"}),t._v(" "),n("span",[t._v("回复")])])]),t._v(" "),n("div",{staticClass:"reply"},[t._l(e.reply,function(o){return n("div",{staticClass:"item"},[n("div",{staticClass:"reply-content"},[n("span",{staticClass:"from-name"},[t._v(t._s(o.fromName))]),n("span",[t._v(": ")]),t._v(" "),n("span",{staticClass:"to-name"},[t._v("@"+t._s(o.toName))]),t._v(" "),n("span",[t._v(t._s(o.content))])]),t._v(" "),n("div",{staticClass:"reply-bottom"},[n("span",[t._v(t._s(o.date))]),t._v(" "),n("span",{staticClass:"reply-text",on:{click:function(n){return t.showCommentInput(e,o)}}},[n("i",{staticClass:"iconfont icon-comment"}),t._v(" "),n("span",[t._v("回复")])])])])}),t._v(" "),e.reply.length>0?n("div",{staticClass:"write-reply",on:{click:function(n){return t.showCommentInput(e)}}},[n("i",{staticClass:"el-icon-edit"}),t._v(" "),n("span",{staticClass:"add-comment"},[t._v("添加新评论")])]):t._e(),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showItemId===e.id?n("div",{staticClass:"input-wrapper"},[n("el-input",{staticClass:"gray-bg-input",attrs:{type:"textarea",rows:3,autofocus:"",placeholder:"写下你的评论"},model:{value:t.inputComment,callback:function(e){t.inputComment=e},expression:"inputComment"}}),t._v(" "),n("div",{staticClass:"btn-control"},[n("span",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("el-button",{staticClass:"btn",attrs:{type:"success",round:""},on:{click:t.commitComment}},[t._v("确定")])],1)],1):t._e()])],2)])}),0)},staticRenderFns:[]};var f=n("VU/8")(p,d,!1,function(t){n("CYGL")},"data-v-c78908ea",null).exports;o.default.use(m.a);var v=new m.a({base:"/vue/",mode:"history",routes:[{path:"/",redirect:"login"},{path:"/comment",meta:{title:"品科内部系统登录"},component:f},{path:"/testTwo",meta:{title:"品科内部系统登录"},component:function(t){return n.e(10).then(function(){var e=[n("yhkz")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/OutShow",meta:{title:"品科内部系统登录"},component:function(t){return n.e(15).then(function(){var e=[n("EVWK")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/demo",meta:{title:"品科内部系统登录"},component:function(t){return n.e(4).then(function(){var e=[n("c2Bu")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/home",name:"home",meta:{title:"pkHomeShow"},redirect:"/show",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("LqM4")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/show",name:"weHomeShow",component:function(t){return n.e(2).then(function(){var e=[n("1Ees")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/AgencyManger",name:"AgencyManger",component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("HSm9")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/EmManager",name:"EmManager",component:function(t){return n.e(7).then(function(){var e=[n("62pU")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/SchManager",name:"SchManager",component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("vpEV")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/AgencyOrder",name:"AgencyOrder",component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){var e=[n("h+vW")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/SchOrder",name:"SchOrder",component:function(t){return Promise.all([n.e(0),n.e(9)]).then(function(){var e=[n("PLv/")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/AgencyShow",name:"AgencyShow",component:function(t){return n.e(14).then(function(){var e=[n("q/JX")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/OrderShow",name:"OrderShow",component:function(t){return n.e(1).then(function(){var e=[n("aApg")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/SchShow",name:"SchShow",component:function(t){return n.e(12).then(function(){var e=[n("Quih")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}}]},{path:"/login",meta:{title:"品科内部系统登录"},component:function(t){return n.e(13).then(function(){var e=[n("+Nj0")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/register",meta:{title:"品科内部系统登录"},component:function(t){return n.e(11).then(function(){var e=[n("Dj9F")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}),g=n("zL8q"),w=n.n(g),y=(n("tvR6"),n("yh13"),{alterHello:function(){alert("欢迎！！！")}}),_=n("NYxO");o.default.use(_.a);var C=new _.a.Store({state:{name:"test",userName:"尚未登录的人"},mutations:{userNameChange:function(t,e){t.userName=e}}}),k={localHost:"http://localhost:8080/pkServer",localServer:"http://192.168.1.145:8080/pkServer",serverHost:"http://192.168.1.142:8080/pkServer"},b=n("//Fk"),A=n.n(b),S=(n("GKy3"),n("4vvA")),j=n.n(S),I=n("mtWM"),N=n.n(I),q=n("mw3O"),L=n.n(q);N.a.defaults.timeout=1e4;var M=function(t){console.log(t),j()({message:t,duration:1e3,forbidClick:!0})},P=function(){v.replace({path:"/login",query:{redirect:v.currentRoute.fullPath}})},F=N.a.create({timeout:12e3});F.interceptors.request.use(function(t){var e=C.state.token;return e&&(t.headers.Authorization=e),t},function(t){return A.a.error(t)}),F.interceptors.response.use(function(t){if(200===t.status)return t.data;M("服务断线ing"),A.a.reject(t)},function(t){M("操作失败");var e=t.response;return e?(function(t,e){switch(t){case 401:P();break;case 403:M("登录过期，请重新登录"),localStorage.removeItem("token"),C.commit("loginSuccess",null),setTimeout(function(){P()},1e3);break;case 404:M("请求的资源不存在");break;default:console.log("后台回返数据"),console.log(e)}}(e.status,e.data.message),A.a.reject(e)):window.navigator.onLine?A.a.reject(t):void C.commit("changeNetwork",!1)});var O=F,x=k.serverHost,H={article:{articleList:function(){return O.get(x+"/topics")},articleDetail:function(t,e){return O.get(x+"/topic/"+t,{params:e})},login:function(t){return O.post(x+"/accesstoken",L.a.stringify(t))},schManger:function(t,e){return O.post(x+"/sch/"+t,e)},agencyManger:function(t,e){return O.post(x+"/age/"+t,e)},emManger:function(t,e){return O.post(x+"/em/"+t,e)},agencyPrjManger:function(t,e){return O.post(x+"/agencyPrj/"+t,e)},schPrjManger:function(t,e){return O.post(x+"/schPrj/"+t,e)},screenShow:function(t,e){return O.post(x+"/show/"+t,e)},upImage:function(t,e){return O.post(x+"/"+t,e)},getUpPathForTouXiang:function(t){return x+"/em/"+t},getImageForTouXiang:function(t){return x+"/images/"+t},testSome:function(t){alert(t),alert(""+k.local)}}};o.default.prototype.$api=H,o.default.prototype.commonMethods=y,o.default.config.productionTip=!1,o.default.use(w.a),new o.default({el:"#app",render:function(t){return t(l)},router:v,store:C,components:{App:l},template:"<App/>"})},XqYu:function(t,e){},j7dL:function(t,e){},k86u:function(t,e){},tvR6:function(t,e){},yh13:function(t,e){}},[0]);
//# sourceMappingURL=app.3c3e48d62adbbb688ff0.js.map